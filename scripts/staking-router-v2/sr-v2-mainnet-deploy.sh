#!/bin/bash
set -e +u
set -o pipefail

# export NETWORK=mainnet
export DEPLOYER=${DEPLOYER}
export NETWORK=local
export RPC_URL=${RPC_URL:="http://127.0.0.1:8555"}  # if defined use the value set to default otherwise

export PAUSE_INTENT_VALIDITY_PERIOD_BLOCKS=7200
export MAX_OPERATORS_PER_UNVETTING=20

export SECONDS_PER_SLOT=12
export GENESIS_TIME=1606824023

export GAS_PRIORITY_FEE=${GAS_PRIORITY_FEE:=2}
export GAS_MAX_FEE=${GAS_MAX_FEE:=100}


# contracts addresses on mainnet
export LIDO="0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84"
export DEPOSIT_CONTRACT="0x00000000219ab540356cBB839Cbe05303d7705Fa"
export STAKING_ROUTER="0xFdDf38947aFB03C621C71b06C9C70bce73f12999"
export ACCOUNTING_ORACLE_PROXY="0x852deD011285fe67063a08005c71a85690503Cee"
export EL_REWARDS_VAULT="0x388C818CA8B9251b393131C08a736A67ccB19297"
export POST_TOKEN_REBASE_RECEIVER="0x442af784A788A5bd6F42A01Ebe9F287a871243fb"
export BURNER="0xD15a672319Cf0352560eE76d9e89eAB0889046D3"
export TREASURY_ADDRESS="0x3e40D73EB977Dc6a537aF587D48316feE66E9C8c"
export WITHDRAWAL_QUEUE_ERC721="0x889edC2eDab5f40e902b864aD4d7AdE8E412F9B1"
export WITHDRAWAL_VAULT_ADDRESS="0xB9D7934878B5FB9610B3fE8A5e441e8fad7E293f"
export ORACLE_DAEMON_CONFIG="0xbf05A929c3D7885a6aeAd833a992dA6E5ac23b09"
export LOCATOR="0xC1d0b3DE6792Bf6b4b37EccdcC24e45978Cfd2Eb"
export LEGACY_ORACLE="0x442af784A788A5bd6F42A01Ebe9F287a871243fb"
export VEBO="0x0De4Ea0184c2ad0BacA7183356Aea5B8d5Bf5c6e"

# Run the deployment script with the environment variables
yarn hardhat --network $NETWORK run scripts/staking-router-v2/deploy.ts
